# Ipshin â€” Network Analysis Toolkit

A simple and fast command-line toolkit for network analysis. It allows you to extract Autonomous System Numbers (ASNs) by country, retrieve all associated IP addresses for those ASNs, and save the results in a clean, organized format. This tool is ideal for proxy builders, network researchers, and security enthusiasts.

The toolkit consists of two main scripts:
1.  **ASNfinder.py**: Scrapes ASN numbers for a specific country from BGPView.
2.  **IpFinder.py**: Takes a list of ASNs and fetches all their announced IP prefixes.

## Features

-   **ASN Extraction**: Scrape ASN numbers for a country (currently configured for Iran) from BGPView with support for single or multi-page scans.
-   **IP Prefix Retrieval**: Fetch all announced IPv4 prefixes for a given list of ASNs using the BGPView API.
-   **Flexible Input**: Provide ASNs manually, via multi-line input, or by reading from a text file.
-   **Data Optimization**: Automatically cleans and optimizes IP ranges by removing redundant subnets.
-   **Clean Output**: Saves all collected data into organized text files for easy use.

## Installation

1.  Clone the repository to your local machine:
    ```bash
    git clone https://github.com/shakakibara12/Ipshin.git
    cd Ipshin
    ```

2.  Install the required dependencies:
    ```bash
    uv sync
    ```

## Usage

### 1. ASNfinder.py

This script scrapes ASN numbers for Iran from `bgpview.io`.

Run the script:
```bash
python src/asnfinder.py
```

You will be presented with a menu:

-   **`1` - Single Page Scan**: Fetches ASNs from a single page. You will be prompted to enter a page number (e.g., `5`).
-   **`2` - Page Range Scan**: Fetches ASNs from a range of pages. You will be prompted to enter a range (e.g., `1-9`).
-   **`E` - Exit**: Exits the script and saves the collected ASNs.

The script will process your request and collect all unique ASNs found. When you choose to exit, the results will be saved to `ASNFinder(Log).txt`.

### 2. IpFinder.py

This script takes a list of ASNs and retrieves their corresponding IP address ranges.

Run the script:
```bash
python src/ipfinder.py
```

You will be presented with a menu:

-   **`1` - Single ASN Scan**: Fetches IP ranges for a single ASN. You will be prompted to enter the ASN number (e.g., `12880`).
-   **`2` - Multi-line ASN Input**: Allows you to paste or type multiple ASNs, one per line. Press Enter on an empty line to finish.
-   **`3` - Scan ASNs From File**: Reads ASNs from a text file. You will be prompted to enter the file path. The file should contain one ASN per line.
-   **`E` - Exit**: Exits the script and saves the collected IP ranges.

The script will process the list of ASNs and gather all unique IP prefixes. When you choose to exit, the results will be saved to `IPFinder(Log).txt`.

## Workflow

The typical workflow for using this toolkit is as follows:

1.  **Find ASNs**: Use `ASNfinder.py` to generate a comprehensive list of ASNs for Iran. The output will be saved in `ASNFinder(Log).txt`.
2.  **Find IPs**: Use `IpFinder.py` with the list generated in the previous step. You can use option `3` (Scan ASNs From File) and provide `ASNFinder(Log).txt` as the input.
3.  **Analyze**: The final output, `IPFinder(Log).txt`, will contain a clean list of all IP ranges associated with the ASNs you provided.

## Output Files

-   **`ASNFinder(Log).txt`**: Contains a list of unique ASN numbers, one per line, generated by `ASNfinder.py`.
-   **`IPFinder(Log).txt`**: Contains a list of unique and optimized IP ranges in CIDR notation, one per line, generated by `IpFinder.py`.

## Disclaimer

This tool is for educational and research purposes only. Please use it responsibly and in compliance with all applicable laws and terms of service of the data providers. The author is not responsible for any misuse of this software.
